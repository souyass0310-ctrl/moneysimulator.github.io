<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>貯金＆自由資金シミュレーター</title>

<style>
body{
max-width:700px;
margin:40px auto;
font-family:sans-serif;
}

input,select{
padding:5px;
margin:5px;
width:160px;
}

.result{
background:#f3f3f3;
padding:20px;
margin-top:20px;
}

.big{
font-size:24px;
font-weight:bold;
}

.small{
color:#666;
font-size:13px;
}
</style>

</head>
<body>

<h2>貯金＆自由資金シミュレーター</h2>

年齢<br>
<input type="number" id="age" value="25">


<br><br>

<label>
<input type="checkbox" id="firstYear" checked>
新卒1年目（住民税なし）
</label>


<br><br>

現在の貯金額<br>
<input type="number" step="0.1" id="currentSavings" value="100"> 万円


<br><br>

今年の貯金目標<br>
<input type="number" step="0.1" id="yearSavings" value="60"> 万円

<div class="small">
毎月貯金額：
<span id="monthlySavingsView">0円</span>
</div>


<br><br>

年収<br>
<input type="number" step="0.1" id="income" value="550"> 万円


<br><br>

地域<br>
<select id="region">
<option value="7.5">東京（平均7.5万）</option>
<option value="6">大阪（平均6万）</option>
<option value="5">地方（平均5万）</option>
</select>


<br><br>

家賃<br>
<input type="number" step="0.1" id="rent" value="7.5"> 万円



<h3>生活費（固定費）</h3>

食費
<input type="number" step="0.1" id="food" value="4">
万円
<span class="small">（平均 4.0 万円）</span>
<br>


通信費
<input type="number" step="0.1" id="phone" value="1">
万円
<span class="small">（平均 1.0 万円）</span>
<br>


光熱費
<input type="number" step="0.1" id="utility" value="1.2">
万円
<span class="small">（平均 1.2 万円）</span>
<br>


日用品
<input type="number" step="0.1" id="daily" value="1">
万円
<span class="small">（平均 1.0 万円）</span>
<br>


保険費
<input type="number" step="0.1" id="insurance" value="0.5">
万円
<span class="small">（平均 0.5 万円）</span>
<br>


サブスク・ジム
<input type="number" step="0.1" id="sub" value="1.5">
万円
<span class="small">（平均 1.5 万円）</span>
<br>


奨学金返済
<input type="number" step="0.1" id="loan" value="0">
万円
<span class="small">（平均 1.5 万円）</span>
<br>



<div class="result">

手取り（月）<br>
<div id="net" class="big"></div>


自由に使えるお金（月）<br>
<div id="free" class="big"></div>


貯金額 同年代比較<br>
<div id="compare" class="big"></div>


AIアドバイス<br>
<div id="advice"></div>

</div>



<script>

function yen(n){
return Math.round(n).toLocaleString()+"円";
}


function taxRate(income){

if(income<300) return 0.15;
if(income<500) return 0.20;
if(income<800) return 0.25;
return 0.30;

}


function residentTaxRate(){
return 0.10;
}


function avgSavings(age){

if(age<25) return 50;
if(age<30) return 150;
if(age<35) return 300;
if(age<40) return 500;
return 800;

}



function update(){

let age = Number(ageInput.value);

let income = incomeInput.value*10000;


let baseTax = taxRate(incomeInput.value);

let residentTax = firstYear.checked ? 0 : residentTaxRate();

let net =
income*(1-baseTax-residentTax)/12;


netView.innerText = yen(net);



let yearlySave = yearSavings.value*10000;

let monthlySave = yearlySave/12;

monthlySavingsView.innerText = yen(monthlySave);



let fixed =
food.value*10000 +
phone.value*10000 +
utility.value*10000 +
daily.value*10000 +
insurance.value*10000 +
sub.value*10000 +
loan.value*10000;


let rentY = rent.value*10000;


let free = net-fixed-rentY-monthlySave;

freeView.innerText = yen(free);



// 貯金比較

let avg = avgSavings(age);

let current = currentSavings.value;

let text="";

if(current>avg*2)
text="上位10%（平均"+avg+"万）";

else if(current>avg*1.5)
text="上位20%";

else if(current>avg)
text="平均以上";

else if(current>avg*0.5)
text="平均付近";

else
text="平均以下";


compare.innerText=text;



// AIアドバイス

let adviceText="";

if(free<20000)
adviceText="かなり厳しいです。固定費見直し推奨。";

else if(free<50000)
adviceText="平均的。月1〜2回遊べます。";

else if(free<100000)
adviceText="余裕あり。趣味や旅行可能。";

else
adviceText="非常に余裕あり。資産形成を加速できます.";


advice.innerText=adviceText;

}



region.onchange=function(){
rent.value=this.value;
update();
};


document.querySelectorAll("input,select")
.forEach(e=>e.addEventListener("input",update));


let ageInput=age;
let incomeInput=income;
let netView=net;
let freeView=free;


update();

</script>

</body>
</html>
